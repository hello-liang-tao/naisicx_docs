5.Arduino 按键控制LED
===================================

🚀准备知识
----------------------------------

使用2号(PD2)引脚作为按键输入状态检测引脚,按键另一端接入5V即高电平,因此当按键按下时候2号引脚检测到高电平,按键松开默认低电平

连线说明:电阻为10K,一端连接在5V,另一端连接在2号引脚,即上拉电阻。实现的功能是当按键松开的时候2号引脚是高电平,当按键下时候2号引脚是低电平

按键消抖
----------------------------------

按键消抖通常的按键所用开关为机械弹性开关，当机械触点断开、闭合时，由于机械触点的弹性作用，一个按键开关在闭合时不会马上稳定地接通，在断开时也不会一下子断开。因而在闭合及断开的瞬间均伴随有一连串的抖动，为了不产生这种现象而作的措施就是按键消抖。

.. code-block:: c
   :caption: 按键控制LED
   :linenos:
 
    int buttonState = 0;                     //定义一个变量用来记录按键输入状态      
    int ledState = 0;                        //定义一个变量用来记录LED状态      

    void setup() {
      pinMode(13, OUTPUT);                   //初始化13号引脚用来驱动LED
      pinMode(2, INPUT);                     //初始化2号引脚用来检测按键输入状态
    }

    void loop() {
      buttonState = digitalRead(2);         //用于读取2号引脚电平状态,检测低电平则输出0(LOW)
      if (buttonState == LOW) {
        delay(200);
        buttonState = digitalRead(2);       //两次检测起到按键消抖的作用
        if(buttonState == LOW){
        
          if(ledState ==0){                 //LED开始的时候是关闭的状态,按下按键LED亮,再次按下按键LED灭
            digitalWrite(13, HIGH);
            ledState = 1;                   //改变LED状态             
            } else {
            digitalWrite(13, LOW);
            ledState = 0;
          }
        }
      } 
    }


